/* 1) Basic Reset */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* 2) Body Defaults */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4; /* Main content background remains gray */
}

/* 3) Navbar */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;  /* Fixed height */
    background: linear-gradient(180deg, #3399ff, #66b3ff);
    color: #fff;
    z-index: 9999;
    /* No vertical padding to keep the height fixed */
}

/* iOS Safe Area Handling for Mobile */
@media (max-width: 1024px) {
    .navbar::before {
        content: "";
        position: absolute;
        top: -env(safe-area-inset-top);
        left: 0;
        width: 100%;
        height: env(safe-area-inset-top);
        background: linear-gradient(180deg, #3399ff, #66b3ff);
        z-index: -1;
    }
}

/* 4) Navbar Container */
/* Use a three-column grid: left, center, right.
   To ensure that the center column's content is centered in the entire container,
   we use grid-template-columns: 1fr auto 1fr. Then, we place the nav list in the center cell.
   The logo will be in the left cell (aligned left) and the hamburger in the right cell (aligned right).
*/
.navbar-container {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    width: 90%;
    height: 100%;
    margin: 0 auto;
    padding: 0 10px;
}

/* Place the logo in the left cell */
.navbar-logo {
    grid-column: 1;
    justify-self: start;
}
.navbar-logo img {
    height: 30px !important; /* Keep the logo small */
    width: auto !important;
    border-radius: 8px;
}

/* Place the nav list in the center cell (desktop only) */
.navbar-list {
    grid-column: 2;
    list-style: none;
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: center;
}
.navbar-list li a {
    color: #fff;
    text-decoration: none;
    font-size: 1rem;
    transition: color 0.3s ease;
}
.navbar-list li a:hover {
    color: #ffdd57;
}

/* Place the hamburger in the right cell */
.navbar-toggle {
    grid-column: 3;
    justify-self: end;
    display: none; /* Hidden on desktop */
    width: 30px;
    height: 30px;
    background: none;
    border: none;
    cursor: pointer;
    z-index: 1001;
}
.navbar-toggle::before {
    content: 'â˜°';
    font-size: 1.5rem;
    line-height: 1;
    color: #fff;
}
.navbar-toggle.active::before {
    content: 'X';
}

/* 5) Tablet & Mobile Adjustments */
@media (max-width: 1024px) {
    /* Show the hamburger menu */
    .navbar-toggle {
        display: block;
    }
    /* Hide the nav list in the grid (it will appear as an overlay) */
    .navbar-list {
        display: none;
    }
    
    /* Full-screen overlay menu for nav items */
    .navbar-menu-overlay {
        display: none;
        flex-direction: column;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #3399ff;
        justify-content: flex-start;
        align-items: center;
        padding-top: 80px; /* Leave room for the fixed navbar */
        z-index: 9998;
    }
    .navbar-menu-overlay.open {
        display: flex;
    }
    .navbar-menu-overlay li {
        margin: 15px 0;
    }
    .navbar-menu-overlay li a {
        font-size: 1.2rem;
        color: #fff;
        padding: 10px 20px;
        text-align: center;
    }
    .navbar-menu-overlay li a:hover {
        background-color: rgba(255, 255, 255, 0.25);
        color: #fff;
    }
}

/* 6) Main Page Containers */
/* Increase top margin so content is pushed down further from the navbar.
   On desktop, margin-top: 120px; on mobile, margin-top: 140px. */
.page-content,
.quiz,
.country-profiles,
.about,
.world-map {
    margin-bottom: 50px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    text-align: center;
}
@media (min-width: 1025px) {
    .page-content,
    .quiz,
    .country-profiles,
    .about,
    .world-map {
        margin-top: 120px;
    }
}
@media (max-width: 1024px) {
    .page-content,
    .quiz,
    .country-profiles,
    .about,
    .world-map {
        margin-top: 140px;
    }
}

/* 7) Headings */
h1, h2, h3 {
    margin-bottom: 20px;
    text-align: center;
    word-wrap: break-word;
    line-height: 1.2;
}
h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.2rem; }

/* 8) Search Input */
input[type="text"] {
    width: 100%;
    max-width: 300px;
    padding: 15px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    display: block;
    margin: 0 auto 15px auto;
}

/* 9) Buttons */
.button {
    display: block;
    margin: 15px auto;
    padding: 15px 40px;
    font-size: 1.1rem;
    font-weight: bold;
    color: white;
    text-align: center;
    text-decoration: none;
    border: none;
    border-radius: 50px;
    background: linear-gradient(180deg, #66b3ff, #3399ff);
    box-shadow: inset 0 3px 6px rgba(255,255,255,0.6), 0 6px 12px rgba(0,0,0,0.2);
    transition: all 0.3s ease-in-out;
    cursor: pointer;
}
.button:hover {
    background: linear-gradient(180deg, #55aaff, #2288ee);
}
.button:active {
    box-shadow: inset 0 6px 12px rgba(0,0,0,0.2), 0 3px 6px rgba(0,0,0,0.1);
    transform: translateY(2px);
}
form input[type="submit"].button { margin-top: 15px; }

/* 10) Flash Messages */
.message {
    margin-top: 20px;
    padding: 10px;
    background-color: #e0e0e0;
    border: none !important;
    margin-bottom: 0 !important;
}

/* 11) Autocomplete Dropdown */
.autocomplete-dropdown {
    position: absolute;
    background-color: #fff;
    border-radius: 4px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    margin-top: 5px;
    width: 100%;
    left: 0;
    padding: 0;
}
.autocomplete-dropdown li {
    padding: 10px 15px;
    font-size: 1rem;
    color: #333;
    cursor: pointer;
    transition: background-color 0.2s ease;
    list-style: none;
    margin: 0;
    text-align: left;
}
.autocomplete-dropdown li:hover { background-color: #f0f0f0; }
.autocomplete-dropdown li.active { background-color: #66b3ff; color: #fff; }
.autocomplete-dropdown::-webkit-scrollbar { width: 8px; }
.autocomplete-dropdown::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
.autocomplete-dropdown::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
.autocomplete-dropdown::-webkit-scrollbar-thumb:hover { background: #999; }

/* 12) Quiz Section */
.quiz {
    text-align: left;
}
.quiz h1 {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 20px;
}
.quiz p {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1rem;
    color: #555;
}
#quizContainer { margin-top: 20px; }
#timer {
    font-size: 1.25rem;
    font-weight: bold;
    margin-bottom: 20px;
    color: #333;
    text-align: center;
}
#questionContainer { margin-bottom: 20px; }
#questionContainer p {
    font-size: 1.25rem;
    margin-bottom: 10px;
    color: #333;
    text-align: center;
}
#userAnswer {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    margin-bottom: 20px;
}
#resultContainer { margin-top: 20px; }
#resultContainer h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.5rem;
    color: #333;
}
#score {
    font-size: 1.25rem;
    margin-bottom: 20px;
    color: #333;
    text-align: center;
    font-weight: bold;
}
#detailedResults {
    margin-top: 20px;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
#detailedResults p {
    font-size: 1rem;
    margin-bottom: 15px;
    color: #555;
    text-align: left;
    line-height: 1.6;
    padding: 10px;
    border-left: 4px solid #66b3ff;
    background-color: #fff;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    transition: border-left-color 0.3s ease;
}
#detailedResults p strong { color: #333; font-weight: bold; }
#detailedResults p.correct { border-left-color: #66b3ff; }
#detailedResults p.incorrect { border-left-color: #66b3ff; }
#detailedResults p.correct:hover { border-left-color: #4caf50; }
#detailedResults p.incorrect:hover { border-left-color: #f44336; }
#redoQuizBtn { margin-top: 20px; display: block; margin-left: auto; margin-right: auto; }

/* 13) Country Profiles Section */
.country-profiles { text-align: left; }
.country-profiles h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 2rem;
}
.country-profiles p {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1rem;
    color: #555;
}
.country-profiles h2 {
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.5rem;
    color: #333;
}
.country-profiles ul { list-style: none; padding: 0; margin: 0; }
.country-profiles ul li {
    margin: 10px 0;
    padding: 10px;
    background-color: #f9f9f9;
    border-radius: 4px;
    transition: background-color 0.2s ease;
}
.country-profiles ul li:hover { background-color: #f0f0f0; }
.country-profiles ul li a {
    text-decoration: none;
    color: #333;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 10px;
}
.country-profiles ul li a:hover { color: #66b3ff; }

/* 14) About Section */
.about { text-align: left; }
.about h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 2rem;
    color: #333;
    line-height: 1.2;
    word-wrap: break-word;
}
.about p {
    font-size: 1rem;
    line-height: 1.6;
    color: #555;
    margin-bottom: 20px;
}
.about h2 {
    margin-top: 30px;
    margin-bottom: 15px;
    font-size: 1.5rem;
    color: #333;
}
.about ul { list-style: none; padding: 0; margin: 0; }
.about ul li {
    margin: 10px 0;
    padding: 10px;
    background-color: #f9f9f9;
    border-radius: 4px;
    transition: background-color 0.2s ease;
}
.about ul li:hover { background-color: #f0f0f0; }
.about ul li strong { color: #333; font-weight: bold; }
.about ul li a {
    text-decoration: none;
    color: #66b3ff;
    transition: color 0.2s ease;
}
.about ul li a:hover { color: #3399ff; }

/* 15) World Map Section */
.world-map { text-align: center; }
.world-map h1 {
    margin-bottom: 20px;
    font-size: 2rem;
    color: #333;
    word-wrap: break-word;
}
.world-map p {
    font-size: 1rem;
    color: #555;
    margin-bottom: 20px;
}
.search-bar-container {
    text-align: center;
    margin: 0 auto;
    padding: 0;
    max-width: 300px;
    position: relative;
}
#search-bar {
    width: 100%;
    max-width: 300px;
    padding: 15px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    display: block;
    margin: 0 auto;
}
#map {
    height: 500px;
    width: 100%;
    border-radius: 15px;
    margin-top: 20px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* 16) Home Page Intro (if relevant) */
.home-intro {
    font-size: 1rem;
    font-weight: normal;
    line-height: 1.4;
    margin-bottom: 20px;
}

/* 17) Mobile-Only: Thin Side Margins */
@media (max-width: 1024px) {
    .page-content,
    .quiz,
    .country-profiles,
    .about,
    .world-map {
        width: 95%;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
}
